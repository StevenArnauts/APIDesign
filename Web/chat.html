<div ng-controller="chatController">
	<h2>Chat</h2>
	<form class="form">
		<div class="panel">
			<div class="panel-heading">
				<div class="panel-title">Connection: {{state}}</div>
			</div>
			<div class="panel-body">
				<div class="form-group">
					<label class="control-label" for="url">Url</label>
					<input type="text" id="url" class="form-control" ng-model="url" />
				</div>
				<div class="btn-group">
					<button class="btn btn-primary" ng-disabled="state === 'connected'" ng-click="connect()">Connect</button>
					<button class="btn btn-danger" ng-disabled="state === 'disconnected'" ng-click="disconnect()">Disconnect</button>
				</div>
			</div>
		</div>
		<div class="panel">
			<div class="panel-heading">
				<div class="panel-title">Send</div>
			</div>
			<div class="panel-body">
				<div class="form-group">
					<label class="control-label" for="name">Name</label>
					<input type="text" id="name" class="form-control" ng-model="name" />
				</div>
				<div class="form-group">
					<label class="control-label" for="text">Text</label>
					<input type="text" id="text" class="form-control" ng-model="text"/>
				</div>
				<div class="form-group">
					<button class="btn btn-primary" ng-disabled="state != 'connected'" ng-click="send()">Send</button>
				</div>
			</div>
		</div>
		<div class="form-group" ng-if="error">
			<div class="alert alert-danger" role="alert">
				<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
				<span class="sr-only">Error:</span>
				{{error}}
			</div>
		</div>
	</form>
	<div class="panel">
		<div class="panel-heading">
			<div class="panel-title">
				Messages
				<a class="btn btn-default pull-right" ng-click="clear()">Clear</a>
			</div>
		</div>
		<div class="panel-body">
			<table class="table">
				<tr>
					<td>Name</td>
					<td>Text</td>
				</tr>
				<tr ng-repeat="message in messages">
					<td>{{message.name}}</td>
					<td>{{message.text}}</td>
				</tr>
			</table>
		</div>
	</div>
</div>